---
import type { BookshelfItem } from '../lib/hardcover';

type Props = {
  book: BookshelfItem;
  className?: string;
};

const { book, className = '' } = Astro.props;
---

<li class={`group relative overflow-hidden rounded-xl cursor-pointer ${className}`.trim()}>
  <a href={book.bookUrl} class="block">
    {book.coverUrl ? (
      <img
        src={book.coverUrl}
        alt={`${book.title} cover`}
        class="h-56 w-full object-cover group-hover:scale-103 transition-transform duration-300"
        loading="lazy"
      />
    ) : (
      <div class="h-56 w-full bg-slate-700 flex items-center justify-center text-xs text-slate-400">
        No cover
      </div>
    )}
    <div class="absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent p-3 translate-y-2 group-hover:translate-y-0 transition-all duration-300 md:opacity-0 md:group-hover:opacity-100">
      <p class="text-white text-xs font-medium line-clamp-2">{book.title}</p>
    </div>
  </a>
</li>